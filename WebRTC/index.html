<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <script src="//cdn.bootcss.com/eruda/1.2.0/eruda.min.js"></script>
    <script>
     window.onload = function(){
       var el = document.createElement('div');
       document.body.appendChild(el);

       eruda.init({
         container: el,
       });
     }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#cf3a3f">
    <meta charset="utf-8">
    <meta charset="UTF-8">
    <title>GetUserMedia实例</title>
</head>
<body>
    <div id="camera">
	    <video id="video" autoplay playsinline></video>
    </div>
</body>
<script type="text/javascript">
    var getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
    getUserMedia.call(navigator, {
        video: true,
        audio: true
    }, function(localMediaStream) {
        var video = document.getElementById('video');
        video.src = window.URL.createObjectURL(localMediaStream);
        console.log("video.src is " + video.src);
        video.onloadedmetadata = function(e) {
            console.log("Label: " + localMediaStream.label);
            console.log("AudioTracks" , localMediaStream.getAudioTracks());
            console.log("VideoTracks" , localMediaStream.getVideoTracks());
        };
    }, function(e) {
        console.log('Reeeejected!', e);
    });
</script>
</html>
